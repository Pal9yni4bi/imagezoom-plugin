(function(e){var t={cursorcolor:"255,255,255",opacity:.5,cursor:"crosshair",zindex:2147483647,zoomviewsize:[480,395],zoomviewposition:"right",zoomviewmargin:10,zoomviewborder:"none",magnification:1.925};var n,r,i,s,o,u;var a={init:function(f){$this=e(this),n=e(".imagezoom-cursor"),r=e(".imagezoom-view"),e(document).on("mouseenter",$this.selector,function(l){var c=e(this).data();i=e.extend({},t,f,c),u=e(this).offset(),s=e(this).width(),o=e(this).height(),cursorSize=[i.zoomviewsize[0]/i.magnification,i.zoomviewsize[1]/i.magnification];if(c.imagezoom==true){imageSrc=e(this).attr("src")}else{imageSrc=e(this).get(0).getAttribute("data-imagezoom")}var h=l.pageX,p=l.pageY,d;e("body").prepend('<div class="imagezoom-cursor">&nbsp;</div><div class="imagezoom-view"><img src="'+imageSrc+'"></div>');if(i.zoomviewposition=="right"){d=u.left+s+i.zoomviewmargin}else{d=u.left-s-i.zoomviewmargin}e(r.selector).css({position:"absolute",left:d,top:u.top,width:cursorSize[0]*i.magnification,height:cursorSize[1]*i.magnification,background:"#000","z-index":2147483647,overflow:"hidden",border:i.zoomviewborder});e(r.selector).children("img").css({position:"absolute",width:s*i.magnification,height:o*i.magnification});e(n.selector).css({position:"absolute",width:cursorSize[0],height:cursorSize[1],"background-color":"rgb("+i.cursorcolor+")","z-index":i.zindex,opacity:i.opacity,cursor:i.cursor});e(n.selector).css({top:p-cursorSize[1]/2,left:h});e(document).on("mousemove",document.body,a.cursorPos)})},cursorPos:function(t){var a=t.pageX,f=t.pageY;if(f<u.top||a<u.left||f>u.top+o||a>u.left+s){e(n.selector).remove();e(r.selector).remove();return}if(a-cursorSize[0]/2<u.left){a=u.left+cursorSize[0]/2}else if(a+cursorSize[0]/2>u.left+s){a=u.left+s-cursorSize[0]/2}if(f-cursorSize[1]/2<u.top){f=u.top+cursorSize[1]/2}else if(f+cursorSize[1]/2>u.top+o){f=u.top+o-cursorSize[1]/2}e(n.selector).css({top:f-cursorSize[1]/2,left:a-cursorSize[0]/2});e(r.selector).children("img").css({top:(u.top-f+cursorSize[1]/2)*i.magnification,left:(u.left-a+cursorSize[0]/2)*i.magnification});e(n.selector).mouseleave(function(){e(this).remove()})}};e.fn.imageZoom=function(t){if(a[t]){return a[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return a.init.apply(this,arguments)}else{e.error(t)}};e(document).ready(function(){var t=e(".item-info").width();e("[data-imagezoom]").imageZoom({zoomviewsize:[t,500],magnification:3})})})(jQuery)